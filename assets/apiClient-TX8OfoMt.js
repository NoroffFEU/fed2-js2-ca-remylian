const i="f52d2b5d-3f90-47b3-8fa8-7f044ccf9962",n="https://v2.api.noroff.dev",a=`${n}/auth`,p=`${a}/login`,I=`${a}/register`,u=`${a}/create-api-key`,c=`${n}/social`,l=`${c}/posts`,d=`${c}/profiles`;function A(){const e=new Headers,r=localStorage.getItem("accessToken");r&&e.append("Authorization",`Bearer ${r}`);const o=localStorage.getItem("noroffApiKey")||i;return e.append("X-Noroff-API-Key",o),e}async function f(e){let r=`API request failed with status: ${e.status}`;try{r=(await e.json()).message||r}catch(o){console.error("Error parsing error response:",o)}throw console.error("API error:",r),new Error(r)}async function P(e,r="GET",o=null){const s={method:r,headers:A()};o&&(s.body=JSON.stringify(o),s.headers.append("Content-Type","application/json"));try{const t=await fetch(e,s);if(!t.ok){if(t.status===204)return{};await f(t)}return t.status===204?{}:await t.json()}catch(t){throw console.error("Error during API request:",t),t}}export{l as A,P as a,p as b,u as c,I as d,d as e};
